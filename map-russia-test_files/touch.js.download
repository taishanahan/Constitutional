//>>built
define("dgrid/util/touch",["dojo/on","dojo/query"],function(l,q){function n(c,d,a,b){if(!(1<a.targetTouches.length)){var e=a.changedTouches[0],g=e.screenX,h=e.screenY;b&&a.preventDefault();var f=l(c,"touchend",function(m){var p=m.changedTouches[0];m.targetTouches.length||(Math.abs(p.screenX-g)<k.tapRadius&&Math.abs(p.screenY-h)<k.tapRadius&&(b&&m.preventDefault(),d.call(this,m)),f.remove())})}}var k={tapRadius:10,dbltapTime:250,selector:function(c,d,a){return function(b,e){var g=d.bubble;g?d=g:!1!==
a&&(a=!0);return l(b,d,function(h){var f=h.target;3==f.nodeType&&(f=f.parentNode);for(;!q.matches(f,c,b);)if(f==b||!a||!(f=f.parentNode))return;return e.call(f,h)})}},countCurrentTouches:function(c,d){if(!("touches"in c))return-1;var a,b,e;for(b=a=0;e=c.touches[a];++a)d.contains(e.target)&&++b;return b},tap:function(c,d){return l(c,"touchstart",function(a){n(c,d,a)})},dbltap:function(c,d){var a,b;return l(c,"touchstart",function(e){a?n(c,function(g){if(a){var h=g.changedTouches[0];Math.abs(h.screenX-
a.screenX)<k.tapRadius&&Math.abs(h.screenY-a.screenY)<k.tapRadius&&(b&&clearTimeout(b),a=b=null,d.call(this,g))}},e,!0):n(c,function(g){a=g.changedTouches[0];b=setTimeout(function(){a=b=null},k.dbltapTime)},e)})}};return k});